{"version":3,"file":"/blocks/featured-posts-carousel/js/featured-posts-carousel.min.js","mappings":"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","sources":["webpack://rocket55-starter/./blocks/featured-posts-carousel/js/featured-posts-carousel.js"],"sourcesContent":["/**\n * Featured Posts Carousel - Glider.js Implementation\n */\n\n(function() {\n\t'use strict';\n\n\t// Initialize carousel\n\tfunction initCarousel($block) {\n\t\tconst blockElement = $block || document;\n\t\tconst carousels = blockElement.querySelectorAll('.featured-posts-carousel .glider');\n\n\t\tcarousels.forEach(function(carousel) {\n\t\t\t// Skip if already initialized\n\t\t\tif (carousel.classList.contains('glider-initialized')) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst carouselId = carousel.id;\n\t\t\tconst prevBtn = blockElement.querySelector('.btn-carousel-prev[data-carousel=\"' + carouselId + '\"]');\n\t\t\tconst nextBtn = blockElement.querySelector('.btn-carousel-next[data-carousel=\"' + carouselId + '\"]');\n\t\t\tconst dotsContainer = blockElement.querySelector('#' + carouselId + '-dots');\n\t\t\tconst slideItems = blockElement.querySelectorAll('.featured-posts-slide-item');\n\t\t\tconst slideContentContainer = blockElement.querySelector('.featured-posts-slide-content');\n\n\t\t\tif (!prevBtn || !nextBtn) {\n\t\t\t\tconsole.warn('Featured posts carousel buttons not found for:', carouselId);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Mark as initialized\n\t\t\tcarousel.classList.add('glider-initialized');\n\n\t\t\t// Initialize Glider\n\t\t\tconst glider = new Glider(carousel, {\n\t\t\t\tslidesToShow: 1,\n\t\t\t\tslidesToScroll: 1,\n\t\t\t\tdraggable: true,\n\t\t\t\tscrollLock: true,\n\t\t\t\tdots: dotsContainer,\n\t\t\t\tarrows: {\n\t\t\t\t\tprev: prevBtn,\n\t\t\t\t\tnext: nextBtn\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Show carousel after initialization\n\t\t\tconst gliderContain = carousel.closest('.glider-contain');\n\t\t\tif (gliderContain) {\n\t\t\t\tgliderContain.classList.add('glider-loaded');\n\t\t\t}\n\n\t\t\t// Update container height to match active slide\n\t\t\tfunction updateContainerHeight(slideIndex) {\n\t\t\t\tif (slideContentContainer && slideItems[slideIndex]) {\n\t\t\t\t\tconst activeItem = slideItems[slideIndex];\n\t\t\t\t\tconst height = activeItem.offsetHeight;\n\t\t\t\t\tslideContentContainer.style.height = height + 'px';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Sync text content with carousel slide\n\t\t\tfunction updateSlideContent(slideIndex) {\n\t\t\t\tslideItems.forEach(function(item, index) {\n\t\t\t\t\tif (index === slideIndex) {\n\t\t\t\t\t\titem.classList.add('active');\n\t\t\t\t\t} else {\n\t\t\t\t\t\titem.classList.remove('active');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tupdateContainerHeight(slideIndex);\n\t\t\t}\n\n\t\t\t// Set initial height - use multiple strategies for reliability\n\t\t\tfunction setInitialHeight() {\n\t\t\t\t// Use requestAnimationFrame to ensure layout is complete\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\tupdateContainerHeight(0);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Try after fonts load\n\t\t\tif (document.fonts && document.fonts.ready) {\n\t\t\t\tdocument.fonts.ready.then(setInitialHeight);\n\t\t\t}\n\n\t\t\t// Also try after window load (images, etc.)\n\t\t\twindow.addEventListener('load', setInitialHeight);\n\n\t\t\t// Recalculate on resize\n\t\t\twindow.addEventListener('resize', function() {\n\t\t\t\tupdateContainerHeight(glider.slide || 0);\n\t\t\t});\n\n\t\t\t// Fallback timeout for edge cases\n\t\t\tsetTimeout(setInitialHeight, 500);\n\n\t\t\t// Listen for slide changes\n\t\t\tcarousel.addEventListener('glider-slide-visible', function(event) {\n\t\t\t\tupdateSlideContent(event.detail.slide);\n\t\t\t});\n\n\t\t\t// Handle disabled state for nav buttons\n\t\t\tfunction updateButtonStates() {\n\t\t\t\tconst totalSlides = glider.slides.length;\n\n\t\t\t\tif (glider.slide === 0) {\n\t\t\t\t\tprevBtn.setAttribute('disabled', 'disabled');\n\t\t\t\t\tprevBtn.setAttribute('aria-disabled', 'true');\n\t\t\t\t} else {\n\t\t\t\t\tprevBtn.removeAttribute('disabled');\n\t\t\t\t\tprevBtn.setAttribute('aria-disabled', 'false');\n\t\t\t\t}\n\n\t\t\t\tif (glider.slide >= totalSlides - 1) {\n\t\t\t\t\tnextBtn.setAttribute('disabled', 'disabled');\n\t\t\t\t\tnextBtn.setAttribute('aria-disabled', 'true');\n\t\t\t\t} else {\n\t\t\t\t\tnextBtn.removeAttribute('disabled');\n\t\t\t\t\tnextBtn.setAttribute('aria-disabled', 'false');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Initial state\n\t\t\tupdateButtonStates();\n\n\t\t\t// Update on slide change\n\t\t\tcarousel.addEventListener('glider-slide-visible', updateButtonStates);\n\t\t\tcarousel.addEventListener('glider-slide-hidden', updateButtonStates);\n\t\t\tcarousel.addEventListener('glider-refresh', updateButtonStates);\n\t\t});\n\t}\n\n\t// Initialize when DOM is ready (front-end)\n\tif (document.readyState === 'loading') {\n\t\tdocument.addEventListener('DOMContentLoaded', function() {\n\t\t\tif (typeof Glider !== 'undefined') {\n\t\t\t\tinitCarousel();\n\t\t\t}\n\t\t});\n\t} else {\n\t\tif (typeof Glider !== 'undefined') {\n\t\t\tinitCarousel();\n\t\t}\n\t}\n\n\t// Initialize in ACF block editor\n\tif (window.acf) {\n\t\tconst hookNames = [\n\t\t\t'render_block_preview/type=featured-posts-carousel',\n\t\t\t'render_block_preview/type=acf/featured-posts-carousel',\n\t\t\t'render_block_preview'\n\t\t];\n\n\t\thookNames.forEach(function(hookName) {\n\t\t\twindow.acf.addAction(hookName, function($block) {\n\t\t\t\tif ($block && $block[0] && $block[0].querySelector('.featured-posts-carousel')) {\n\t\t\t\t\tif (typeof Glider !== 'undefined') {\n\t\t\t\t\t\tinitCarousel($block[0]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\t// Also try initializing on DOM ready in editor\n\t\tif (document.readyState === 'loading') {\n\t\t\tdocument.addEventListener('DOMContentLoaded', function() {\n\t\t\t\tif (typeof Glider !== 'undefined') {\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tinitCarousel();\n\t\t\t\t\t}, 500);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n})();\n"],"names":["initCarousel","$block","blockElement","document","carousels","querySelectorAll","forEach","carousel","classList","contains","carouselId","id","prevBtn","querySelector","nextBtn","dotsContainer","slideItems","slideContentContainer","console","warn","add","glider","Glider","slidesToShow","slidesToScroll","draggable","scrollLock","dots","arrows","prev","next","gliderContain","closest","updateContainerHeight","slideIndex","activeItem","height","offsetHeight","style","updateSlideContent","item","index","remove","setInitialHeight","requestAnimationFrame","fonts","ready","then","window","addEventListener","slide","setTimeout","event","detail","updateButtonStates","totalSlides","slides","length","setAttribute","removeAttribute","readyState","acf","hookNames","hookName","addAction"],"sourceRoot":""}