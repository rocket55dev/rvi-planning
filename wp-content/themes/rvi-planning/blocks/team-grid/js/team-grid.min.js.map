{"version":3,"file":"/blocks/team-grid/js/team-grid.min.js","mappings":"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","sources":["webpack://rocket55-starter/./blocks/team-grid/js/team-grid.js"],"sourcesContent":["/**\n * Team Grid - AJAX Load More\n */\n\n(function() {\n\t'use strict';\n\n\tfunction init() {\n\t\tconst blocks = document.querySelectorAll('.team-grid');\n\t\tif (blocks.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tblocks.forEach(function(block) {\n\t\t\tinitTeamGrid(block);\n\t\t});\n\t}\n\n\tif (document.readyState === 'loading') {\n\t\tdocument.addEventListener('DOMContentLoaded', init);\n\t} else {\n\t\tinit();\n\t}\n\n\tfunction initTeamGrid(block) {\n\t\tif (block.classList.contains('team-grid-initialized')) {\n\t\t\treturn;\n\t\t}\n\t\tblock.classList.add('team-grid-initialized');\n\n\t\tconst loadMoreBtn = block.querySelector('.team-grid-load-more');\n\t\tconst itemsGrid = block.querySelector('.team-grid-items');\n\n\t\tif (!itemsGrid) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Staggered fade-in for initial items\n\t\tconst initialItems = itemsGrid.querySelectorAll('.team-grid-item');\n\t\tinitialItems.forEach(function(item, index) {\n\t\t\titem.style.transitionDelay = (index * 50) + 'ms';\n\t\t});\n\t\trequestAnimationFrame(function() {\n\t\t\trequestAnimationFrame(function() {\n\t\t\t\tinitialItems.forEach(function(item) {\n\t\t\t\t\titem.classList.add('team-grid-item--visible');\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\n\t\t// Load More functionality\n\t\tif (loadMoreBtn && typeof teamGridData !== 'undefined') {\n\t\t\tloadMoreBtn.addEventListener('click', function() {\n\t\t\t\tconst currentPage = parseInt(this.getAttribute('data-page'));\n\t\t\t\tconst nextPage = currentPage + 1;\n\t\t\t\tconst postsPerPage = block.getAttribute('data-posts-per-page') || '12';\n\n\t\t\t\t// Disable button while loading\n\t\t\t\tthis.disabled = true;\n\t\t\t\tthis.textContent = 'Loading...';\n\n\t\t\t\t// Make Ajax request\n\t\t\t\tvar formData = new FormData();\n\t\t\t\tformData.append('action', 'load_more_team');\n\t\t\t\tformData.append('page', nextPage);\n\t\t\t\tformData.append('posts_per_page', postsPerPage);\n\t\t\t\tformData.append('nonce', teamGridData.nonce);\n\n\t\t\t\tfetch(teamGridData.ajax_url, {\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tbody: formData\n\t\t\t\t})\n\t\t\t\t.then(function(response) {\n\t\t\t\t\treturn response.json();\n\t\t\t\t})\n\t\t\t\t.then(function(data) {\n\t\t\t\t\tif (data.success && data.data.html) {\n\t\t\t\t\t\t// Get count of existing items for stagger offset\n\t\t\t\t\t\tvar existingCount = itemsGrid.querySelectorAll('.team-grid-item').length;\n\n\t\t\t\t\t\t// Append new items to grid\n\t\t\t\t\t\titemsGrid.insertAdjacentHTML('beforeend', data.data.html);\n\n\t\t\t\t\t\t// Staggered fade-in for new items\n\t\t\t\t\t\tvar allItems = itemsGrid.querySelectorAll('.team-grid-item');\n\t\t\t\t\t\tvar newItems = [];\n\t\t\t\t\t\tallItems.forEach(function(item, index) {\n\t\t\t\t\t\t\tif (index >= existingCount) {\n\t\t\t\t\t\t\t\tvar staggerIndex = index - existingCount;\n\t\t\t\t\t\t\t\titem.style.opacity = '0';\n\t\t\t\t\t\t\t\titem.style.transitionDelay = (staggerIndex * 50) + 'ms';\n\t\t\t\t\t\t\t\tnewItems.push(item);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\t\t\t\tnewItems.forEach(function(item) {\n\t\t\t\t\t\t\t\t\titem.classList.add('team-grid-item--visible');\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t// Update button state\n\t\t\t\t\t\tif (nextPage >= data.data.max_pages) {\n\t\t\t\t\t\t\tloadMoreBtn.style.display = 'none';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tloadMoreBtn.setAttribute('data-page', nextPage);\n\t\t\t\t\t\t\tloadMoreBtn.disabled = false;\n\t\t\t\t\t\t\tloadMoreBtn.textContent = 'See More';\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tloadMoreBtn.disabled = false;\n\t\t\t\t\t\tloadMoreBtn.textContent = 'See More';\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(function(error) {\n\t\t\t\t\tconsole.error('Ajax error:', error);\n\t\t\t\t\tloadMoreBtn.disabled = false;\n\t\t\t\t\tloadMoreBtn.textContent = 'See More';\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n})();"],"names":["init","blocks","document","querySelectorAll","length","forEach","block","initTeamGrid","readyState","addEventListener","classList","contains","add","loadMoreBtn","querySelector","itemsGrid","initialItems","item","index","style","transitionDelay","requestAnimationFrame","teamGridData","currentPage","parseInt","getAttribute","nextPage","postsPerPage","disabled","textContent","formData","FormData","append","nonce","fetch","ajax_url","method","body","then","response","json","data","success","html","existingCount","insertAdjacentHTML","allItems","newItems","staggerIndex","opacity","push","max_pages","display","setAttribute","error","console"],"sourceRoot":""}