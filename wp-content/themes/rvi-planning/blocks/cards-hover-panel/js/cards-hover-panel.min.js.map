{"version":3,"file":"/blocks/cards-hover-panel/js/cards-hover-panel.min.js","mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC,YAAW;EACX,YAAY;;EAEZ;EACA,IAAMA,aAAa,GAAI,cAAc,IAAIC,MAAM,IAAMC,SAAS,CAACC,cAAc,GAAG,CAAE;EAElF,IAAI,CAACH,aAAa,EAAE;IACnB,OAAO,CAAC;EACT;EAEA,SAASI,SAASA,CAAA,EAAG;IACpB,IAAMC,KAAK,GAAGC,QAAQ,CAACC,gBAAgB,CAAC,aAAa,CAAC;IAEtDF,KAAK,CAACG,OAAO,CAAC,UAASC,IAAI,EAAE;MAC5BA,IAAI,CAACC,gBAAgB,CAAC,OAAO,EAAE,UAASC,CAAC,EAAE;QAC1C,IAAMC,MAAM,GAAG,IAAI,CAACC,SAAS,CAACC,QAAQ,CAAC,YAAY,CAAC;QACpD,IAAMC,YAAY,GAAGJ,CAAC,CAACK,MAAM,CAACC,OAAO,KAAK,KAAK,IAAIN,CAAC,CAACK,MAAM,CAACE,OAAO,CAAC,KAAK,CAAC;QAC1E,IAAMC,YAAY,GAAGR,CAAC,CAACK,MAAM,CAACE,OAAO,CAAC,cAAc,CAAC;QAErD,IAAI,CAACN,MAAM,EAAE;UACZ;UACAD,CAAC,CAACS,cAAc,CAAC,CAAC;UAClB;UACAd,QAAQ,CAACC,gBAAgB,CAAC,wBAAwB,CAAC,CAACC,OAAO,CAAC,UAASa,QAAQ,EAAE;YAC9EA,QAAQ,CAACR,SAAS,CAACS,MAAM,CAAC,YAAY,CAAC;UACxC,CAAC,CAAC;UACF,IAAI,CAACT,SAAS,CAACU,GAAG,CAAC,YAAY,CAAC;QACjC,CAAC,MAAM,IAAIR,YAAY,IAAI,CAACI,YAAY,EAAE;UACzC;UACAR,CAAC,CAACS,cAAc,CAAC,CAAC;UAClB,IAAI,CAACP,SAAS,CAACS,MAAM,CAAC,YAAY,CAAC;QACpC,CAAC,MAAM,IAAIH,YAAY,EAAE;UACxB;UACA;QAAA,CACA,MAAM;UACN;UACAR,CAAC,CAACS,cAAc,CAAC,CAAC;UAClB,IAAI,CAACP,SAAS,CAACS,MAAM,CAAC,YAAY,CAAC;QACpC;MACD,CAAC,CAAC;IACH,CAAC,CAAC;EACH;;EAEA;EACA,IAAIhB,QAAQ,CAACkB,UAAU,KAAK,SAAS,EAAE;IACtClB,QAAQ,CAACI,gBAAgB,CAAC,kBAAkB,EAAEN,SAAS,CAAC;EACzD,CAAC,MAAM;IACNA,SAAS,CAAC,CAAC;EACZ;;EAEA;EACA,IAAIH,MAAM,CAACwB,GAAG,EAAE;IACfxB,MAAM,CAACwB,GAAG,CAACC,SAAS,CAAC,6CAA6C,EAAE,UAASC,MAAM,EAAE;MACpF,IAAIA,MAAM,IAAIA,MAAM,CAAC,CAAC,CAAC,EAAE;QACxB;QACAC,UAAU,CAAC,YAAW;UACrBxB,SAAS,CAAC,CAAC;QACZ,CAAC,EAAE,GAAG,CAAC;MACR;IACD,CAAC,CAAC;EACH;AACD,CAAC,EAAE,CAAC,C","sources":["webpack://rocket55-starter/./blocks/cards-hover-panel/js/cards-hover-panel.js"],"sourcesContent":["/**\n * Cards Hover Panel - Touch Device Support\n * First tap: Open panel\n * Second tap on panel: Follow link\n * Tap on image when open: Close panel\n */\n\n(function() {\n\t'use strict';\n\n\t// Detect if device has touch capability\n\tconst isTouchDevice = ('ontouchstart' in window) || (navigator.maxTouchPoints > 0);\n\n\tif (!isTouchDevice) {\n\t\treturn; // Let CSS hover handle everything on non-touch devices\n\t}\n\n\tfunction initCards() {\n\t\tconst cards = document.querySelectorAll('.hover-card');\n\n\t\tcards.forEach(function(card) {\n\t\t\tcard.addEventListener('click', function(e) {\n\t\t\t\tconst isOpen = this.classList.contains('panel-open');\n\t\t\t\tconst clickedImage = e.target.tagName === 'IMG' || e.target.closest('img');\n\t\t\t\tconst clickedPanel = e.target.closest('.hover-panel');\n\n\t\t\t\tif (!isOpen) {\n\t\t\t\t\t// First tap: Open the panel\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\t// Close any other open panels\n\t\t\t\t\tdocument.querySelectorAll('.hover-card.panel-open').forEach(function(openCard) {\n\t\t\t\t\t\topenCard.classList.remove('panel-open');\n\t\t\t\t\t});\n\t\t\t\t\tthis.classList.add('panel-open');\n\t\t\t\t} else if (clickedImage && !clickedPanel) {\n\t\t\t\t\t// Tap on image when panel is open: Close panel\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tthis.classList.remove('panel-open');\n\t\t\t\t} else if (clickedPanel) {\n\t\t\t\t\t// Tap on panel content when open: Allow link to work (do nothing, let default behavior)\n\t\t\t\t\t// Link will navigate normally\n\t\t\t\t} else {\n\t\t\t\t\t// Safety fallback: close panel\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tthis.classList.remove('panel-open');\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t// Initialize on DOM ready\n\tif (document.readyState === 'loading') {\n\t\tdocument.addEventListener('DOMContentLoaded', initCards);\n\t} else {\n\t\tinitCards();\n\t}\n\n\t// Re-initialize for ACF block editor\n\tif (window.acf) {\n\t\twindow.acf.addAction('render_block_preview/type=cards-hover-panel', function($block) {\n\t\t\tif ($block && $block[0]) {\n\t\t\t\t// Small delay to ensure DOM is ready\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tinitCards();\n\t\t\t\t}, 100);\n\t\t\t}\n\t\t});\n\t}\n})();\n"],"names":["isTouchDevice","window","navigator","maxTouchPoints","initCards","cards","document","querySelectorAll","forEach","card","addEventListener","e","isOpen","classList","contains","clickedImage","target","tagName","closest","clickedPanel","preventDefault","openCard","remove","add","readyState","acf","addAction","$block","setTimeout"],"sourceRoot":""}